# 一个展示葫芦侠未授权访问的脚本

## 研究背景

我是一名[洛克王国](https://17roco.qq.com)的粉丝，前几天我发现了款它的同人安卓手机游戏。链接是从[葫芦侠](https://tools.huluxia.com/share/page/ANDROID/4.1?app_id=61514)中分享出来的。在我兴高采烈地去下载时，它犯了和国产的其它下载平台一样的尿性欺骗了我去下载他们家的应用——葫芦侠/葫芦侠3楼。这特喵得惹火了我这个粉丝，于是我进行了尝试对它进行绕过强行下载并将过程和脚本分享于此。

## 绕过app强行下载流程

1. 一般你会得到一个像`https://tools.huluxia.com/share/page/ANDROID/4.1?app_id=61514`的分享链接链接，你只需要它的param即可，即`app_id=xxxx`的字段。
2. 向`http://tools.huluxia.com/game/detail/ANDROID/4.1.5?app_id={app_id}`发送`GET`请求（用普通的浏览器也可以，形式无所谓）即可获取该app的详细信息，其中包括了真正的下载链接。别忘了替换`app_id`这个param哦！
3. 拿着真实下载链接去下载并享受快乐时光吧！😄

## 总结

一个web应用应当检查当前请求是否有访问该资源的权限以约束用户使用正确的方式来使用该应用。但在这儿，有个更重要的问题需要强调，不要为了商业利益而戏弄你的用户，这行为会使用户恨透你的app😣。（虽然国产的商业性质的app没人会听，但还是想说一说）
